<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>SurakshaSetu Website</title>
  <link rel="stylesheet" href="css/styles_shared.css" />
  <link rel="stylesheet" href="css/styles_Main.css" />
  <link
    rel="stylesheet"
    href="https://cdn.jsdelivr.net/npm/leaflet@1.9.3/dist/leaflet.css"
    integrity="sha512-mD70nAW2ThLsWH0zif8JPbfraZ8hbCtjQ+5RU1m4+ztZq6/MymyZeB55pWsi4YAX+73yvcaJyk61mzfYMvtm9w=="
    crossorigin=""
  />
  <link rel="icon" href="/hospitalimagelogo.jpg">
  <!-- ✅ Google Maps API for Places Autocomplete -->
  <script
    src="https://maps.googleapis.com/maps/api/js?key=AIzaSyDJLn3hR4dbAXjIZ4On6_K0EyxsqIMqRPQ&libraries=places"
    defer
  ></script>
</head>
<body style="display: none;">
  <header>
    <div class="nav-top">
      <div class="left">
        <div class="logo">
          <img src="https://img.icons8.com/ios-filled/50/ffffff/heart-with-pulse.png" alt="Logo" />
          <span>SurakshaSetu</span>
        </div>
        <a href="pages/select_location.html" id="locationSection" class="location" tabindex="0" aria-label="Select your location">
  <img src="https://img.icons8.com/ios-filled/24/ffffff/marker.png" alt="Location" />
  <span id="locationText">Your Location</span>
</a>
      </div>
      <div class="right">
        <a href="pages/Special_Offer.html" class="offer-logo" tabindex="0" aria-label="Special Offer page">
          <img src="https://img.icons8.com/ios-filled/24/ffffff/sale.png" alt="Offer" />
          <span>Special Offer</span>
        </a>
        <div class="login" tabindex="0" role="link" aria-label="Login page"
          onclick="window.location='login.html'"
          onkeypress="if(event.key==='Enter'||event.key===' ') window.location='login.html'">
          Log Out
        </div>
      </div>
    </div>
    <nav class="nav-bottom" aria-label="Primary">
      <a href="indexMainpage.html">Home</a>
      <a href="pages/Find_Doctor.html">Doctor</a>
      <a href="pages/Find_Hospital.html">Hospital</a>
      <a href="pages/medicine.html">Medicine</a>
      <a href="pages/lab_test.html">Lab Test</a>
      <a href="pages/emergency.html">Emergency</a>
    </nav>
  </header>

  <main>
    <section class="main-section">
      <h2>Your complete SurakshaSetu solution</h2>
      <form class="search-bar" onsubmit="event.preventDefault(); alert('Search submitted: ' + this.search.value);">
        <input type="text" name="search" placeholder="Search SurakshaSetu services..." aria-label="Search SurakshaSetu services" />
        <button type="submit" class="search-btn" aria-label="Search">
          <svg class="search-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
            <path d="M15.5 14h-.79l-.28-.27a6.471 6.471 0 001.48-5.34C15.18 5.59 12.59 3 9.5 3S3.82 5.59 3.82 8.81c0 3.22 2.59 5.81 5.68 5.81a6.471 6.471 0 005.34-1.48l.27.28v.79l4.25 4.25 1.5-1.5-4.25-4.25zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"/>
          </svg>
        </button>
      </form>
    </section>

    <section class="carousel-container" aria-label="Services carousel">
      <button class="carousel-btn prev-btn" aria-label="Previous">&#10094;</button>
      <div class="carousel-slide" id="carouselSlide">
        <div class="carousel-item" tabindex="0">
          <h3>Consulting Doctor</h3>
          <p>Connect with experienced doctors for consultations easily.</p>
          <a href="pages/Find_Doctor.html">Learn More</a>
        </div>
        <div class="carousel-item" tabindex="0">
          <h3>Find Hospital</h3>
          <p>Locate nearby hospitals and SurakshaSetu centers instantly.</p>
          <a href="pages/Find_Hospital.html">Learn More</a>
        </div>
        <div class="carousel-item" tabindex="0">
          <h3>Find Medicine Shop</h3>
          <p>Get medicine from trusted shops near you quickly.</p>
          <a href="pages/medicine.html">Learn More</a>
        </div>
        <div class="carousel-item" tabindex="0">
          <h3>Lab Test</h3>
          <p>Book lab tests online with verified labs in your area.</p>
          <a href="pages/lab_test.html">Learn More</a>
        </div>
        <div class="carousel-item" tabindex="0">
          <h3>Want to be a Hero</h3>
          <p>Join our blood donor community and save lives.</p>
          <a href="pages/be_a_hero.html">Learn More</a>
        </div>
      </div>
      <button class="carousel-btn next-btn" aria-label="Next">&#10095;</button>
    </section>
  </main>

  <footer>
    <p>© 2024 SurakshaSetu Website. All rights reserved.</p>
  </footer>

  <script type="module">
    import { getAuth, onAuthStateChanged } from "https://www.gstatic.com/firebasejs/11.10.0/firebase-auth.js";
    import { initializeApp } from "https://www.gstatic.com/firebasejs/11.10.0/firebase-app.js";

    const firebaseConfig = {
      apiKey: "AIzaSyBNCeq_Yrw5w2vS9a3uRXHEF1YMEjHmNDs",
      authDomain: "healthcare-ef03d.firebaseapp.com",
      projectId: "healthcare-ef03d",
      storageBucket: "healthcare-ef03d.appspot.com",
      messagingSenderId: "323260241840",
      appId: "1:323260241840:web:633e327b42bc0e0502e875",
      measurementId: "G-D9YCM3NC2Y"
    };

    const app = initializeApp(firebaseConfig);
    const auth = getAuth(app);

    onAuthStateChanged(auth, async (user) => {
      if (user) {
        console.log("✅ User signed in:", user.email);
        const token = await user.getIdToken();
        localStorage.setItem("token", token);
        document.body.style.display = "block";
      } else {
        console.log("❌ No user signed in, redirecting...");
        window.location.href = "./login.html";
      }
    });
  </script>

  <script
    src="https://cdn.jsdelivr.net/npm/leaflet@1.9.3/dist/leaflet.js"
    integrity="sha512-Dqm3h1Y4qiHUjbhxTuBGQsza0Tfppn53SHlu/uj1f+RT+xfShfe7r6czRf5r2NmllO2aKx+tYJgoxboOkn1Scg=="
    crossorigin=""
  ></script>
  <script src="js/script_shared_location.js"></script>
  <script src="js/script_Main.js"></script>
</body>
</html>